// src/app/NotFoundClient.tsx
"use client";

import { CursorTrail } from "@/components/CursorTrail";
import { CustomLink as Link } from "@/components/CustomLink";

import { PageTransition } from '@/components/PageTransition';

// The type for the fetched Sanity content.
interface NotFoundPageData {
  errorCode: string;
  errorMessage: string;
  subheading: string;
  buttonText: string;
}

type Props = {
  content: NotFoundPageData | null;
};

const BlackLogo = ({ className }: { className?: string }) => (
  <svg width="100%" height="100%" viewBox="0 0 64 67" fill="currentColor" xmlns="http://www.w3.org/2000/svg" className={className}>
    <g transform="matrix(1,0,0,1,0.550186,1.00012)">
        <path d="M5.45,10C2.688,10 0.45,7.761 0.45,5C0.45,2.238 2.688,-0 5.45,-0L32.45,-0L57.45,-0C60.211,-0 62.45,2.238 62.45,5C62.45,7.761 60.211,10 57.45,10L38.45,10L38.45,29.107L48.586,26.126C48.859,26.044 49.149,26 49.45,26C51.107,26 52.45,27.343 52.45,29C52.45,30.34 51.572,31.474 50.36,31.86C50.319,31.872 50.277,31.884 50.236,31.896L38.45,35.362L38.45,39.107L48.586,36.126C48.859,36.044 49.149,36 49.45,36C51.107,36 52.45,37.343 52.45,39C52.45,40.34 51.572,41.474 50.36,41.86C50.319,41.872 50.277,41.884 50.236,41.896L38.45,45.362L38.45,58C38.45,61.314 35.764,64 32.45,64C29.136,64 26.45,61.314 26.45,58L26.45,48.891L16.389,51.85C16.328,51.869 16.267,51.887 16.206,51.904C15.964,51.967 15.711,52 15.45,52C13.793,52 12.45,50.657 12.45,49C12.45,47.622 13.378,46.462 14.644,46.11L26.45,42.637L26.45,38.891L16.389,41.85C16.328,41.869 16.267,41.887 16.206,41.904C15.964,41.967 15.711,42 15.45,42C13.793,42 12.45,40.657 12.45,39C12.45,37.622 13.378,36.462 14.644,36.11L26.45,32.637L26.45,10L5.45,10Z"/>
        <path d="M5.45,11C2.136,11 -0.55,8.314 -0.55,5C-0.55,1.686 2.136,-1 5.45,-1L32.45,-1L57.45,-1C60.763,-1 63.45,1.686 63.45,5C63.45,8.314 60.763,11 57.45,11C57.45,11 39.45,11 39.45,11L39.45,27.771C39.45,27.771 48.304,25.167 48.298,25.168C48.663,25.059 49.05,25 49.45,25C51.659,25 53.45,26.791 53.45,29C53.45,30.786 52.279,32.299 50.663,32.813C50.659,32.814 50.656,32.815 50.652,32.816C50.607,32.83 50.561,32.843 50.515,32.856C50.515,32.856 39.45,36.11 39.45,36.11L39.45,37.771C39.45,37.771 48.304,35.167 48.298,35.168C48.663,35.059 49.05,35 49.45,35C51.659,35 53.45,36.791 53.45,39C53.45,40.786 52.279,42.299 50.663,42.813C50.659,42.814 50.656,42.815 50.652,42.816C50.607,42.83 50.561,42.843 50.515,42.856C50.515,42.856 39.45,46.11 39.45,46.11L39.45,58C39.45,61.866 36.316,65 32.45,65C28.584,65 25.45,61.866 25.45,58L25.45,50.228C25.45,50.228 16.676,52.808 16.676,52.808C16.609,52.829 16.541,52.849 16.472,52.868C16.467,52.869 16.462,52.87 16.457,52.872C16.135,52.955 15.798,53 15.45,53C13.241,53 11.45,51.209 11.45,49C11.45,47.167 12.683,45.623 14.365,45.149C14.365,45.149 25.45,41.889 25.45,41.889L25.45,40.228C25.45,40.228 16.676,42.808 16.676,42.808C16.609,42.829 16.541,42.849 16.472,42.868C16.467,42.869 16.462,42.87 16.457,42.872C16.135,42.955 15.798,43 15.45,43C13.241,43 11.45,41.209 11.45,39C11.45,37.167 12.683,35.623 14.365,35.149C14.365,35.149 25.45,31.889 25.45,31.889L25.45,11L5.45,11ZM5.45,10L26.45,10L26.45,32.637L14.644,36.11C13.378,36.462 12.45,37.622 12.45,39C12.45,40.657 13.793,42 15.45,42C15.711,42 15.964,41.967 16.206,41.904C16.267,41.887 16.328,41.869 16.389,41.85L26.45,38.891L26.45,42.637L14.644,46.11C13.378,46.462 12.45,47.622 12.45,49C12.45,50.657 13.793,52 15.45,52C15.711,52 15.964,51.967 16.206,51.904C16.267,51.887 16.328,51.869 16.389,51.85L26.45,48.891L26.45,58C26.45,61.314 29.136,64 32.45,64C35.764,64 38.45,61.314 38.45,58L38.45,45.362L50.236,41.896C50.277,41.884 50.319,41.872 50.36,41.86C51.572,41.474 52.45,40.34 52.45,39C52.45,37.343 51.107,36 49.45,36C49.149,36 48.859,36.044 48.586,36.126L38.45,39.107L38.45,35.362L50.236,31.896C50.277,31.884 50.319,31.872 50.36,31.86C51.572,31.474 52.45,30.34 52.45,29C52.45,27.343 51.107,26 49.45,26C49.149,26 48.859,26.044 48.586,26.126L38.45,29.107L38.45,10L57.45,10C60.211,10 62.45,7.761 62.45,5C62.45,2.238 60.211,-0 57.45,-0L32.45,-0L5.45,-0C2.688,-0 0.45,2.238 0.45,5C0.45,7.761 2.688,10 5.45,10Z" fill="white"/>
    </g>
  </svg>
);

export default function NotFoundClient({ content }: Props) {
  const errorCode = content?.errorCode || '404.';
  const errorMessage = content?.errorMessage || 'Woops.';
  const subheading = content?.subheading || "The page you are looking for doesn't exist";
  const buttonText = content?.buttonText || 'Go home';
  
  return (
    <PageTransition isNotFound>
      <CursorTrail />
      <main className="h-full flex flex-col justify-center items-center gap-8">
        <BlackLogo className="size-24" />
        <h1 className="text-6xl font-bold">
          <span className="text-black dark:text-white">{errorCode}</span>{' '}
          <span className="font-light text-black-500 dark:text-black-400">{errorMessage}</span>
        </h1>
        <p className="text-lg text-gray-600 dark:text-gray-300">
          {subheading}
        </p>
        <Link 
          href="/" 
          className="inline-block px-8 py-4 rounded-full border-2 border-black text-black font-bold transition hover:-translate-y-1 dark:border-white dark:text-white relative before:absolute before:content-[''] before:-inset-4 hover:before:-bottom-5"
        >
          {buttonText}
        </Link>
      </main>
    </PageTransition>
  );
}